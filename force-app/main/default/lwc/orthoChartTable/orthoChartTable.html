<template>
  <template if:true={hasChartData}>
    <article class="slds-card kpi-card">
      <div class="slds-card__header slds-grid">
        <header class="slds-media slds-media_center slds-has-flexi-truncate">
          <div class="slds-media__body">
            <h2 class="slds-card__header-title">
              <span class="slds-card__header-link slds-truncate" title={title}>
                <span>{title}</span>
              </span>
            </h2>
          </div>
        </header>
      </div>
      <div class="slds-card__body slds-card__body_inner">
        <div class="filter-bar slds-grid slds-grid_align-end">
          <div class="slds-col">
            <template for:each={filters} for:item="filter">
              <div key={filter.field}>
                <c-ortho-chart-filter
                  filter={filter}
                  onfilterchange={handleFilterChange}
                ></c-ortho-chart-filter>
              </div>
            </template>
          </div>
        </div>
        <div class="ortho-chart slds-align_absolute-center show">
          <!-- Chart Container -->
          <lightning-datatable
            key-field="id"
            data={data}
            hide-checkbox-column
            columns={columns}
          ></lightning-datatable>
        </div>
      </div>
    </article>

    <c-ortho-link url={reportLink} show={hasChartData} button-text={linkText}></c-ortho-link>
  </template>
</template>